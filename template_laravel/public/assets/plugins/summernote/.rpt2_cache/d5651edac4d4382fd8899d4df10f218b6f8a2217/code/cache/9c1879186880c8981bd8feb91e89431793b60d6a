{"code":"import $ from 'jquery';\r\nimport env from '../core/env';\r\nimport key from '../core/key';\r\nvar VideoDialog = /** @class */ (function () {\r\n    function VideoDialog(context) {\r\n        this.context = context;\r\n        this.ui = $.summernote.ui;\r\n        this.$body = $(document.body);\r\n        this.$editor = context.layoutInfo.editor;\r\n        this.options = context.options;\r\n        this.lang = this.options.langInfo;\r\n    }\r\n    VideoDialog.prototype.initialize = function () {\r\n        var $container = this.options.dialogsInBody ? this.$body : this.$editor;\r\n        var body = [\r\n            '<div class=\"form-group note-form-group row-fluid\">',\r\n            \"<label class=\\\"note-form-label\\\">\" + this.lang.video.url + \" <small class=\\\"text-muted\\\">\" + this.lang.video.providers + \"</small></label>\",\r\n            '<input class=\"note-video-url form-control note-form-control note-input\" type=\"text\" />',\r\n            '</div>'\r\n        ].join('');\r\n        var buttonClass = 'btn btn-primary note-btn note-btn-primary note-video-btn';\r\n        var footer = \"<button type=\\\"submit\\\" href=\\\"#\\\" class=\\\"\" + buttonClass + \"\\\" disabled>\" + this.lang.video.insert + \"</button>\";\r\n        this.$dialog = this.ui.dialog({\r\n            title: this.lang.video.insert,\r\n            fade: this.options.dialogsFade,\r\n            body: body,\r\n            footer: footer\r\n        }).render().appendTo($container);\r\n    };\r\n    VideoDialog.prototype.destroy = function () {\r\n        this.ui.hideDialog(this.$dialog);\r\n        this.$dialog.remove();\r\n    };\r\n    VideoDialog.prototype.bindEnterKey = function ($input, $btn) {\r\n        $input.on('keypress', function (event) {\r\n            if (event.keyCode === key.code.ENTER) {\r\n                event.preventDefault();\r\n                $btn.trigger('click');\r\n            }\r\n        });\r\n    };\r\n    VideoDialog.prototype.createVideoNode = function (url) {\r\n        // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\r\n        var ytRegExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n        var ytMatch = url.match(ytRegExp);\r\n        var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\r\n        var igMatch = url.match(igRegExp);\r\n        var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\r\n        var vMatch = url.match(vRegExp);\r\n        var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\r\n        var vimMatch = url.match(vimRegExp);\r\n        var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\r\n        var dmMatch = url.match(dmRegExp);\r\n        var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\r\n        var youkuMatch = url.match(youkuRegExp);\r\n        var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\r\n        var qqMatch = url.match(qqRegExp);\r\n        var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\r\n        var qqMatch2 = url.match(qqRegExp2);\r\n        var mp4RegExp = /^.+.(mp4|m4v)$/;\r\n        var mp4Match = url.match(mp4RegExp);\r\n        var oggRegExp = /^.+.(ogg|ogv)$/;\r\n        var oggMatch = url.match(oggRegExp);\r\n        var webmRegExp = /^.+.(webm)$/;\r\n        var webmMatch = url.match(webmRegExp);\r\n        var $video;\r\n        if (ytMatch && ytMatch[1].length === 11) {\r\n            var youtubeId = ytMatch[1];\r\n            $video = $('<iframe>')\r\n                .attr('frameborder', 0)\r\n                .attr('src', '//www.youtube.com/embed/' + youtubeId)\r\n                .attr('width', '640').attr('height', '360');\r\n        }\r\n        else if (igMatch && igMatch[0].length) {\r\n            $video = $('<iframe>')\r\n                .attr('frameborder', 0)\r\n                .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\r\n                .attr('width', '612').attr('height', '710')\r\n                .attr('scrolling', 'no')\r\n                .attr('allowtransparency', 'true');\r\n        }\r\n        else if (vMatch && vMatch[0].length) {\r\n            $video = $('<iframe>')\r\n                .attr('frameborder', 0)\r\n                .attr('src', vMatch[0] + '/embed/simple')\r\n                .attr('width', '600').attr('height', '600')\r\n                .attr('class', 'vine-embed');\r\n        }\r\n        else if (vimMatch && vimMatch[3].length) {\r\n            $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n                .attr('frameborder', 0)\r\n                .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\r\n                .attr('width', '640').attr('height', '360');\r\n        }\r\n        else if (dmMatch && dmMatch[2].length) {\r\n            $video = $('<iframe>')\r\n                .attr('frameborder', 0)\r\n                .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\r\n                .attr('width', '640').attr('height', '360');\r\n        }\r\n        else if (youkuMatch && youkuMatch[1].length) {\r\n            $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n                .attr('frameborder', 0)\r\n                .attr('height', '498')\r\n                .attr('width', '510')\r\n                .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\r\n        }\r\n        else if ((qqMatch && qqMatch[1].length) || (qqMatch2 && qqMatch2[2].length)) {\r\n            var vid = ((qqMatch && qqMatch[1].length) ? qqMatch[1] : qqMatch2[2]);\r\n            $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n                .attr('frameborder', 0)\r\n                .attr('height', '310')\r\n                .attr('width', '500')\r\n                .attr('src', 'http://v.qq.com/iframe/player.html?vid=' + vid + '&amp;auto=0');\r\n        }\r\n        else if (mp4Match || oggMatch || webmMatch) {\r\n            $video = $('<video controls>')\r\n                .attr('src', url)\r\n                .attr('width', '640').attr('height', '360');\r\n        }\r\n        else {\r\n            // this is not a known video link. Now what, Cat? Now what?\r\n            return false;\r\n        }\r\n        $video.addClass('note-video-clip');\r\n        return $video[0];\r\n    };\r\n    VideoDialog.prototype.show = function () {\r\n        var _this = this;\r\n        var text = this.context.invoke('editor.getSelectedText');\r\n        this.context.invoke('editor.saveRange');\r\n        this.showVideoDialog(text).then(function (url) {\r\n            // [workaround] hide dialog before restore range for IE range focus\r\n            _this.ui.hideDialog(_this.$dialog);\r\n            _this.context.invoke('editor.restoreRange');\r\n            // build node\r\n            var $node = _this.createVideoNode(url);\r\n            if ($node) {\r\n                // insert video node\r\n                _this.context.invoke('editor.insertNode', $node);\r\n            }\r\n        }).fail(function () {\r\n            _this.context.invoke('editor.restoreRange');\r\n        });\r\n    };\r\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\r\n    VideoDialog.prototype.showVideoDialog = function (text) {\r\n        var _this = this;\r\n        return $.Deferred(function (deferred) {\r\n            var $videoUrl = _this.$dialog.find('.note-video-url');\r\n            var $videoBtn = _this.$dialog.find('.note-video-btn');\r\n            _this.ui.onDialogShown(_this.$dialog, function () {\r\n                _this.context.triggerEvent('dialog.shown');\r\n                $videoUrl.val(text).on('input', function () {\r\n                    _this.ui.toggleBtn($videoBtn, $videoUrl.val());\r\n                });\r\n                if (!env.isSupportTouch) {\r\n                    $videoUrl.trigger('focus');\r\n                }\r\n                $videoBtn.click(function (event) {\r\n                    event.preventDefault();\r\n                    deferred.resolve($videoUrl.val());\r\n                });\r\n                _this.bindEnterKey($videoUrl, $videoBtn);\r\n            });\r\n            _this.ui.onDialogHidden(_this.$dialog, function () {\r\n                $videoUrl.off('input');\r\n                $videoBtn.off('click');\r\n                if (deferred.state() === 'pending') {\r\n                    deferred.reject();\r\n                }\r\n            });\r\n            _this.ui.showDialog(_this.$dialog);\r\n        });\r\n    };\r\n    return VideoDialog;\r\n}());\r\nexport default VideoDialog;\r\n//# sourceMappingURL=VideoDialog.js.map","map":{"version":3,"file":"VideoDialog.js","sourceRoot":"","sources":["../../src/js/base/module/VideoDialog.js"],"names":[],"mappings":"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"}}
