{"code":"import $ from 'jquery';\r\nimport env from '../core/env';\r\nimport lists from '../core/lists';\r\nimport dom from '../core/dom';\r\nvar TablePopover = /** @class */ (function () {\r\n    function TablePopover(context) {\r\n        var _this = this;\r\n        this.context = context;\r\n        this.ui = $.summernote.ui;\r\n        this.options = context.options;\r\n        this.events = {\r\n            'summernote.mousedown': function (we, e) {\r\n                _this.update(e.target);\r\n            },\r\n            'summernote.keyup summernote.scroll summernote.change': function () {\r\n                _this.update();\r\n            },\r\n            'summernote.disable': function () {\r\n                _this.hide();\r\n            }\r\n        };\r\n    }\r\n    TablePopover.prototype.shouldInitialize = function () {\r\n        return !lists.isEmpty(this.options.popover.table);\r\n    };\r\n    TablePopover.prototype.initialize = function () {\r\n        this.$popover = this.ui.popover({\r\n            className: 'note-table-popover'\r\n        }).render().appendTo(this.options.container);\r\n        var $content = this.$popover.find('.popover-content,.note-popover-content');\r\n        this.context.invoke('buttons.build', $content, this.options.popover.table);\r\n        // [workaround] Disable Firefox's default table editor\r\n        if (env.isFF) {\r\n            document.execCommand('enableInlineTableEditing', false, false);\r\n        }\r\n    };\r\n    TablePopover.prototype.destroy = function () {\r\n        this.$popover.remove();\r\n    };\r\n    TablePopover.prototype.update = function (target) {\r\n        if (this.context.isDisabled()) {\r\n            return false;\r\n        }\r\n        var isCell = dom.isCell(target);\r\n        if (isCell) {\r\n            var pos = dom.posFromPlaceholder(target);\r\n            this.$popover.css({\r\n                display: 'block',\r\n                left: pos.left,\r\n                top: pos.top\r\n            });\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n        return isCell;\r\n    };\r\n    TablePopover.prototype.hide = function () {\r\n        this.$popover.hide();\r\n    };\r\n    return TablePopover;\r\n}());\r\nexport default TablePopover;\r\n//# sourceMappingURL=TablePopover.js.map","map":{"version":3,"file":"TablePopover.js","sourceRoot":"","sources":["../../src/js/base/module/TablePopover.js"],"names":[],"mappings":"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AACvB,OAAO,GAAG,MAAM,aAAa,CAAC;AAC9B,OAAO,KAAK,MAAM,eAAe,CAAC;AAClC,OAAO,GAAG,MAAM,aAAa,CAAC;AAE9B;IACE,sBAAY,OAAO;QAAnB,iBAgBC;QAfC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG;YACZ,sBAAsB,EAAE,UAAC,EAAE,EAAE,CAAC;gBAC5B,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YACxB,CAAC;YACD,sDAAsD,EAAE;gBACtD,KAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC;YACD,oBAAoB,EAAE;gBACpB,KAAI,CAAC,IAAI,EAAE,CAAC;YACd,CAAC;SACF,CAAC;IACJ,CAAC;IAED,uCAAgB,GAAhB;QACE,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,iCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC;YAC9B,SAAS,EAAE,oBAAoB;SAChC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC;QAE9E,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAE3E,sDAAsD;QACtD,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YACb,QAAQ,CAAC,WAAW,CAAC,0BAA0B,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;IAED,8BAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED,6BAAM,GAAN,UAAO,MAAM;QACX,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAElC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,IAAM,GAAG,GAAG,GAAG,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gBAChB,OAAO,EAAE,OAAO;gBAChB,IAAI,EAAE,GAAG,CAAC,IAAI;gBACd,GAAG,EAAE,GAAG,CAAC,GAAG;aACb,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAED,2BAAI,GAAJ;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IACH,mBAAC;AAAD,CAAC,AAjED,IAiEC"}}
