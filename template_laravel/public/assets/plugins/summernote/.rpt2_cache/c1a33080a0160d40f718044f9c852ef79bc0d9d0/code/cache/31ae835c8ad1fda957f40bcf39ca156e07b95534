{"code":"import $ from 'jquery';\r\nimport func from '../core/func';\r\nimport lists from '../core/lists';\r\nimport env from '../core/env';\r\nvar Buttons = /** @class */ (function () {\r\n    function Buttons(context) {\r\n        this.ui = $.summernote.ui;\r\n        this.context = context;\r\n        this.$toolbar = context.layoutInfo.toolbar;\r\n        this.options = context.options;\r\n        this.lang = this.options.langInfo;\r\n        this.invertedKeyMap = func.invertObject(this.options.keyMap[env.isMac ? 'mac' : 'pc']);\r\n    }\r\n    Buttons.prototype.representShortcut = function (editorMethod) {\r\n        var shortcut = this.invertedKeyMap[editorMethod];\r\n        if (!this.options.shortcuts || !shortcut) {\r\n            return '';\r\n        }\r\n        if (env.isMac) {\r\n            shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\r\n        }\r\n        shortcut = shortcut.replace('BACKSLASH', '\\\\')\r\n            .replace('SLASH', '/')\r\n            .replace('LEFTBRACKET', '[')\r\n            .replace('RIGHTBRACKET', ']');\r\n        return ' (' + shortcut + ')';\r\n    };\r\n    Buttons.prototype.button = function (o) {\r\n        if (!this.options.tooltip && o.tooltip) {\r\n            delete o.tooltip;\r\n        }\r\n        o.container = this.options.container;\r\n        return this.ui.button(o);\r\n    };\r\n    Buttons.prototype.initialize = function () {\r\n        this.addToolbarButtons();\r\n        this.addImagePopoverButtons();\r\n        this.addLinkPopoverButtons();\r\n        this.addTablePopoverButtons();\r\n        this.fontInstalledMap = {};\r\n    };\r\n    Buttons.prototype.destroy = function () {\r\n        delete this.fontInstalledMap;\r\n    };\r\n    Buttons.prototype.isFontInstalled = function (name) {\r\n        if (!this.fontInstalledMap.hasOwnProperty(name)) {\r\n            this.fontInstalledMap[name] = env.isFontInstalled(name) ||\r\n                lists.contains(this.options.fontNamesIgnoreCheck, name);\r\n        }\r\n        return this.fontInstalledMap[name];\r\n    };\r\n    Buttons.prototype.isFontDeservedToAdd = function (name) {\r\n        var genericFamilies = ['sans-serif', 'serif', 'monospace', 'cursive', 'fantasy'];\r\n        name = name.toLowerCase();\r\n        return ((name !== '') && this.isFontInstalled(name) && ($.inArray(name, genericFamilies) === -1));\r\n    };\r\n    Buttons.prototype.addToolbarButtons = function () {\r\n        var _this = this;\r\n        this.context.memo('button.style', function () {\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.magic), _this.options),\r\n                    tooltip: _this.lang.style.style,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdown({\r\n                    className: 'dropdown-style',\r\n                    items: _this.options.styleTags,\r\n                    template: function (item) {\r\n                        if (typeof item === 'string') {\r\n                            item = { tag: item, title: (_this.lang.style.hasOwnProperty(item) ? _this.lang.style[item] : item) };\r\n                        }\r\n                        var tag = item.tag;\r\n                        var title = item.title;\r\n                        var style = item.style ? ' style=\"' + item.style + '\" ' : '';\r\n                        var className = item.className ? ' class=\"' + item.className + '\"' : '';\r\n                        return '<' + tag + style + className + '>' + title + '</' + tag + '>';\r\n                    },\r\n                    click: _this.context.createInvokeHandler('editor.formatBlock')\r\n                })\r\n            ]).render();\r\n        });\r\n        var _loop_1 = function (styleIdx, styleLen) {\r\n            var item = this_1.options.styleTags[styleIdx];\r\n            this_1.context.memo('button.style.' + item, function () {\r\n                return _this.button({\r\n                    className: 'note-btn-style-' + item,\r\n                    contents: '<div data-value=\"' + item + '\">' + item.toUpperCase() + '</div>',\r\n                    tooltip: item.toUpperCase(),\r\n                    click: _this.context.createInvokeHandler('editor.formatBlock')\r\n                }).render();\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var styleIdx = 0, styleLen = this.options.styleTags.length; styleIdx < styleLen; styleIdx++) {\r\n            _loop_1(styleIdx, styleLen);\r\n        }\r\n        this.context.memo('button.bold', function () {\r\n            return _this.button({\r\n                className: 'note-btn-bold',\r\n                contents: _this.ui.icon(_this.options.icons.bold),\r\n                tooltip: _this.lang.font.bold + _this.representShortcut('bold'),\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.bold')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.italic', function () {\r\n            return _this.button({\r\n                className: 'note-btn-italic',\r\n                contents: _this.ui.icon(_this.options.icons.italic),\r\n                tooltip: _this.lang.font.italic + _this.representShortcut('italic'),\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.italic')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.underline', function () {\r\n            return _this.button({\r\n                className: 'note-btn-underline',\r\n                contents: _this.ui.icon(_this.options.icons.underline),\r\n                tooltip: _this.lang.font.underline + _this.representShortcut('underline'),\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.underline')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.clear', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.eraser),\r\n                tooltip: _this.lang.font.clear + _this.representShortcut('removeFormat'),\r\n                click: _this.context.createInvokeHandler('editor.removeFormat')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.strikethrough', function () {\r\n            return _this.button({\r\n                className: 'note-btn-strikethrough',\r\n                contents: _this.ui.icon(_this.options.icons.strikethrough),\r\n                tooltip: _this.lang.font.strikethrough + _this.representShortcut('strikethrough'),\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.strikethrough')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.superscript', function () {\r\n            return _this.button({\r\n                className: 'note-btn-superscript',\r\n                contents: _this.ui.icon(_this.options.icons.superscript),\r\n                tooltip: _this.lang.font.superscript,\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.superscript')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.subscript', function () {\r\n            return _this.button({\r\n                className: 'note-btn-subscript',\r\n                contents: _this.ui.icon(_this.options.icons.subscript),\r\n                tooltip: _this.lang.font.subscript,\r\n                click: _this.context.createInvokeHandlerAndUpdateState('editor.subscript')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.fontname', function () {\r\n            var styleInfo = _this.context.invoke('editor.currentStyle');\r\n            // Add 'default' fonts into the fontnames array if not exist\r\n            $.each(styleInfo['font-family'].split(','), function (idx, fontname) {\r\n                fontname = fontname.trim().replace(/['\"]+/g, '');\r\n                if (_this.isFontDeservedToAdd(fontname)) {\r\n                    if ($.inArray(fontname, _this.options.fontNames) === -1) {\r\n                        _this.options.fontNames.push(fontname);\r\n                    }\r\n                }\r\n            });\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents('<span class=\"note-current-fontname\"/>', _this.options),\r\n                    tooltip: _this.lang.font.name,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdownCheck({\r\n                    className: 'dropdown-fontname',\r\n                    checkClassName: _this.options.icons.menuCheck,\r\n                    items: _this.options.fontNames.filter(_this.isFontInstalled.bind(_this)),\r\n                    template: function (item) {\r\n                        return '<span style=\"font-family: \\'' + item + '\\'\">' + item + '</span>';\r\n                    },\r\n                    click: _this.context.createInvokeHandlerAndUpdateState('editor.fontName')\r\n                })\r\n            ]).render();\r\n        });\r\n        this.context.memo('button.fontsize', function () {\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents('<span class=\"note-current-fontsize\"/>', _this.options),\r\n                    tooltip: _this.lang.font.size,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdownCheck({\r\n                    className: 'dropdown-fontsize',\r\n                    checkClassName: _this.options.icons.menuCheck,\r\n                    items: _this.options.fontSizes,\r\n                    click: _this.context.createInvokeHandlerAndUpdateState('editor.fontSize')\r\n                })\r\n            ]).render();\r\n        });\r\n        this.context.memo('button.color', function () {\r\n            return _this.ui.buttonGroup({\r\n                className: 'note-color',\r\n                children: [\r\n                    _this.button({\r\n                        className: 'note-current-color-button',\r\n                        contents: _this.ui.icon(_this.options.icons.font + ' note-recent-color'),\r\n                        tooltip: _this.lang.color.recent,\r\n                        click: function (e) {\r\n                            var $button = $(e.currentTarget);\r\n                            _this.context.invoke('editor.color', {\r\n                                backColor: $button.attr('data-backColor'),\r\n                                foreColor: $button.attr('data-foreColor')\r\n                            });\r\n                        },\r\n                        callback: function ($button) {\r\n                            var $recentColor = $button.find('.note-recent-color');\r\n                            $recentColor.css('background-color', '#FFFF00');\r\n                            $button.attr('data-backColor', '#FFFF00');\r\n                        }\r\n                    }),\r\n                    _this.button({\r\n                        className: 'dropdown-toggle',\r\n                        contents: _this.ui.dropdownButtonContents('', _this.options),\r\n                        tooltip: _this.lang.color.more,\r\n                        data: {\r\n                            toggle: 'dropdown'\r\n                        }\r\n                    }),\r\n                    _this.ui.dropdown({\r\n                        items: [\r\n                            '<div class=\"note-palette\">',\r\n                            '  <div class=\"note-palette-title\">' + _this.lang.color.background + '</div>',\r\n                            '  <div>',\r\n                            '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"backColor\" data-value=\"inherit\">',\r\n                            _this.lang.color.transparent,\r\n                            '    </button>',\r\n                            '  </div>',\r\n                            '  <div class=\"note-holder\" data-event=\"backColor\"/>',\r\n                            '</div>',\r\n                            '<div class=\"note-palette\">',\r\n                            '  <div class=\"note-palette-title\">' + _this.lang.color.foreground + '</div>',\r\n                            '  <div>',\r\n                            '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"removeFormat\" data-value=\"foreColor\">',\r\n                            _this.lang.color.resetToDefault,\r\n                            '    </button>',\r\n                            '  </div>',\r\n                            '  <div class=\"note-holder\" data-event=\"foreColor\"/>',\r\n                            '</div>'\r\n                        ].join(''),\r\n                        callback: function ($dropdown) {\r\n                            $dropdown.find('.note-holder').each(function (idx, item) {\r\n                                var $holder = $(item);\r\n                                $holder.append(_this.ui.palette({\r\n                                    colors: _this.options.colors,\r\n                                    eventName: $holder.data('event'),\r\n                                    container: _this.options.container,\r\n                                    tooltip: _this.options.tooltip\r\n                                }).render());\r\n                            });\r\n                        },\r\n                        click: function (event) {\r\n                            var $button = $(event.target);\r\n                            var eventName = $button.data('event');\r\n                            var value = $button.data('value');\r\n                            if (eventName && value) {\r\n                                var key = eventName === 'backColor' ? 'background-color' : 'color';\r\n                                var $color = $button.closest('.note-color').find('.note-recent-color');\r\n                                var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\r\n                                $color.css(key, value);\r\n                                $currentButton.attr('data-' + eventName, value);\r\n                                _this.context.invoke('editor.' + eventName, value);\r\n                            }\r\n                        }\r\n                    })\r\n                ]\r\n            }).render();\r\n        });\r\n        this.context.memo('button.ul', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.unorderedlist),\r\n                tooltip: _this.lang.lists.unordered + _this.representShortcut('insertUnorderedList'),\r\n                click: _this.context.createInvokeHandler('editor.insertUnorderedList')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.ol', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.orderedlist),\r\n                tooltip: _this.lang.lists.ordered + _this.representShortcut('insertOrderedList'),\r\n                click: _this.context.createInvokeHandler('editor.insertOrderedList')\r\n            }).render();\r\n        });\r\n        var justifyLeft = this.button({\r\n            contents: this.ui.icon(this.options.icons.alignLeft),\r\n            tooltip: this.lang.paragraph.left + this.representShortcut('justifyLeft'),\r\n            click: this.context.createInvokeHandler('editor.justifyLeft')\r\n        });\r\n        var justifyCenter = this.button({\r\n            contents: this.ui.icon(this.options.icons.alignCenter),\r\n            tooltip: this.lang.paragraph.center + this.representShortcut('justifyCenter'),\r\n            click: this.context.createInvokeHandler('editor.justifyCenter')\r\n        });\r\n        var justifyRight = this.button({\r\n            contents: this.ui.icon(this.options.icons.alignRight),\r\n            tooltip: this.lang.paragraph.right + this.representShortcut('justifyRight'),\r\n            click: this.context.createInvokeHandler('editor.justifyRight')\r\n        });\r\n        var justifyFull = this.button({\r\n            contents: this.ui.icon(this.options.icons.alignJustify),\r\n            tooltip: this.lang.paragraph.justify + this.representShortcut('justifyFull'),\r\n            click: this.context.createInvokeHandler('editor.justifyFull')\r\n        });\r\n        var outdent = this.button({\r\n            contents: this.ui.icon(this.options.icons.outdent),\r\n            tooltip: this.lang.paragraph.outdent + this.representShortcut('outdent'),\r\n            click: this.context.createInvokeHandler('editor.outdent')\r\n        });\r\n        var indent = this.button({\r\n            contents: this.ui.icon(this.options.icons.indent),\r\n            tooltip: this.lang.paragraph.indent + this.representShortcut('indent'),\r\n            click: this.context.createInvokeHandler('editor.indent')\r\n        });\r\n        this.context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\r\n        this.context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\r\n        this.context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\r\n        this.context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\r\n        this.context.memo('button.outdent', func.invoke(outdent, 'render'));\r\n        this.context.memo('button.indent', func.invoke(indent, 'render'));\r\n        this.context.memo('button.paragraph', function () {\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.alignLeft), _this.options),\r\n                    tooltip: _this.lang.paragraph.paragraph,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdown([\r\n                    _this.ui.buttonGroup({\r\n                        className: 'note-align',\r\n                        children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\r\n                    }),\r\n                    _this.ui.buttonGroup({\r\n                        className: 'note-list',\r\n                        children: [outdent, indent]\r\n                    })\r\n                ])\r\n            ]).render();\r\n        });\r\n        this.context.memo('button.height', function () {\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.textHeight), _this.options),\r\n                    tooltip: _this.lang.font.height,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdownCheck({\r\n                    items: _this.options.lineHeights,\r\n                    checkClassName: _this.options.icons.menuCheck,\r\n                    className: 'dropdown-line-height',\r\n                    click: _this.context.createInvokeHandler('editor.lineHeight')\r\n                })\r\n            ]).render();\r\n        });\r\n        this.context.memo('button.table', function () {\r\n            return _this.ui.buttonGroup([\r\n                _this.button({\r\n                    className: 'dropdown-toggle',\r\n                    contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.table), _this.options),\r\n                    tooltip: _this.lang.table.table,\r\n                    data: {\r\n                        toggle: 'dropdown'\r\n                    }\r\n                }),\r\n                _this.ui.dropdown({\r\n                    className: 'note-table',\r\n                    items: [\r\n                        '<div class=\"note-dimension-picker\">',\r\n                        '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>',\r\n                        '  <div class=\"note-dimension-picker-highlighted\"/>',\r\n                        '  <div class=\"note-dimension-picker-unhighlighted\"/>',\r\n                        '</div>',\r\n                        '<div class=\"note-dimension-display\">1 x 1</div>'\r\n                    ].join('')\r\n                })\r\n            ], {\r\n                callback: function ($node) {\r\n                    var $catcher = $node.find('.note-dimension-picker-mousecatcher');\r\n                    $catcher.css({\r\n                        width: _this.options.insertTableMaxSize.col + 'em',\r\n                        height: _this.options.insertTableMaxSize.row + 'em'\r\n                    }).mousedown(_this.context.createInvokeHandler('editor.insertTable'))\r\n                        .on('mousemove', _this.tableMoveHandler.bind(_this));\r\n                }\r\n            }).render();\r\n        });\r\n        this.context.memo('button.link', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.link),\r\n                tooltip: _this.lang.link.link + _this.representShortcut('linkDialog.show'),\r\n                click: _this.context.createInvokeHandler('linkDialog.show')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.picture', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.picture),\r\n                tooltip: _this.lang.image.image,\r\n                click: _this.context.createInvokeHandler('imageDialog.show')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.video', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.video),\r\n                tooltip: _this.lang.video.video,\r\n                click: _this.context.createInvokeHandler('videoDialog.show')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.hr', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.minus),\r\n                tooltip: _this.lang.hr.insert + _this.representShortcut('insertHorizontalRule'),\r\n                click: _this.context.createInvokeHandler('editor.insertHorizontalRule')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.fullscreen', function () {\r\n            return _this.button({\r\n                className: 'btn-fullscreen',\r\n                contents: _this.ui.icon(_this.options.icons.arrowsAlt),\r\n                tooltip: _this.options.fullscreen,\r\n                click: _this.context.createInvokeHandler('fullscreen.toggle')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.codeview', function () {\r\n            return _this.button({\r\n                className: 'btn-codeview',\r\n                contents: _this.ui.icon(_this.options.icons.code),\r\n                tooltip: _this.options.codeview,\r\n                click: _this.context.createInvokeHandler('codeview.toggle')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.redo', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.redo),\r\n                tooltip: _this.lang.history.redo + _this.representShortcut('redo'),\r\n                click: _this.context.createInvokeHandler('editor.redo')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.undo', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.undo),\r\n                tooltip: _this.lang.history.undo + _this.representShortcut('undo'),\r\n                click: _this.context.createInvokeHandler('editor.undo')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.help', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.question),\r\n                tooltip: _this.options.help,\r\n                click: _this.context.createInvokeHandler('helpDialog.show')\r\n            }).render();\r\n        });\r\n    };\r\n    /**\r\n     * image : [\r\n     *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n     *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\r\n     *   ['remove', ['removeMedia']]\r\n     * ],\r\n     */\r\n    Buttons.prototype.addImagePopoverButtons = function () {\r\n        var _this = this;\r\n        // Image Size Buttons\r\n        this.context.memo('button.imageSize100', function () {\r\n            return _this.button({\r\n                contents: '<span class=\"note-fontsize-10\">100%</span>',\r\n                tooltip: _this.lang.image.resizeFull,\r\n                click: _this.context.createInvokeHandler('editor.resize', '1')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.imageSize50', function () {\r\n            return _this.button({\r\n                contents: '<span class=\"note-fontsize-10\">50%</span>',\r\n                tooltip: _this.lang.image.resizeHalf,\r\n                click: _this.context.createInvokeHandler('editor.resize', '0.5')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.imageSize25', function () {\r\n            return _this.button({\r\n                contents: '<span class=\"note-fontsize-10\">25%</span>',\r\n                tooltip: _this.lang.image.resizeQuarter,\r\n                click: _this.context.createInvokeHandler('editor.resize', '0.25')\r\n            }).render();\r\n        });\r\n        // Float Buttons\r\n        this.context.memo('button.floatLeft', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.alignLeft),\r\n                tooltip: _this.lang.image.floatLeft,\r\n                click: _this.context.createInvokeHandler('editor.floatMe', 'left')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.floatRight', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.alignRight),\r\n                tooltip: _this.lang.image.floatRight,\r\n                click: _this.context.createInvokeHandler('editor.floatMe', 'right')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.floatNone', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.alignJustify),\r\n                tooltip: _this.lang.image.floatNone,\r\n                click: _this.context.createInvokeHandler('editor.floatMe', 'none')\r\n            }).render();\r\n        });\r\n        // Remove Buttons\r\n        this.context.memo('button.removeMedia', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.trash),\r\n                tooltip: _this.lang.image.remove,\r\n                click: _this.context.createInvokeHandler('editor.removeMedia')\r\n            }).render();\r\n        });\r\n    };\r\n    Buttons.prototype.addLinkPopoverButtons = function () {\r\n        var _this = this;\r\n        this.context.memo('button.linkDialogShow', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.link),\r\n                tooltip: _this.lang.link.edit,\r\n                click: _this.context.createInvokeHandler('linkDialog.show')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.unlink', function () {\r\n            return _this.button({\r\n                contents: _this.ui.icon(_this.options.icons.unlink),\r\n                tooltip: _this.lang.link.unlink,\r\n                click: _this.context.createInvokeHandler('editor.unlink')\r\n            }).render();\r\n        });\r\n    };\r\n    /**\r\n     * table : [\r\n     *  ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\r\n     *  ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\r\n     * ],\r\n     */\r\n    Buttons.prototype.addTablePopoverButtons = function () {\r\n        var _this = this;\r\n        this.context.memo('button.addRowUp', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.rowAbove),\r\n                tooltip: _this.lang.table.addRowAbove,\r\n                click: _this.context.createInvokeHandler('editor.addRow', 'top')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.addRowDown', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.rowBelow),\r\n                tooltip: _this.lang.table.addRowBelow,\r\n                click: _this.context.createInvokeHandler('editor.addRow', 'bottom')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.addColLeft', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.colBefore),\r\n                tooltip: _this.lang.table.addColLeft,\r\n                click: _this.context.createInvokeHandler('editor.addCol', 'left')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.addColRight', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.colAfter),\r\n                tooltip: _this.lang.table.addColRight,\r\n                click: _this.context.createInvokeHandler('editor.addCol', 'right')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.deleteRow', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.rowRemove),\r\n                tooltip: _this.lang.table.delRow,\r\n                click: _this.context.createInvokeHandler('editor.deleteRow')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.deleteCol', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.colRemove),\r\n                tooltip: _this.lang.table.delCol,\r\n                click: _this.context.createInvokeHandler('editor.deleteCol')\r\n            }).render();\r\n        });\r\n        this.context.memo('button.deleteTable', function () {\r\n            return _this.button({\r\n                className: 'btn-md',\r\n                contents: _this.ui.icon(_this.options.icons.trash),\r\n                tooltip: _this.lang.table.delTable,\r\n                click: _this.context.createInvokeHandler('editor.deleteTable')\r\n            }).render();\r\n        });\r\n    };\r\n    Buttons.prototype.build = function ($container, groups) {\r\n        for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\r\n            var group = groups[groupIdx];\r\n            var groupName = $.isArray(group) ? group[0] : group;\r\n            var buttons = $.isArray(group) ? ((group.length === 1) ? [group[0]] : group[1]) : [group];\r\n            var $group = this.ui.buttonGroup({\r\n                className: 'note-' + groupName\r\n            }).render();\r\n            for (var idx = 0, len = buttons.length; idx < len; idx++) {\r\n                var btn = this.context.memo('button.' + buttons[idx]);\r\n                if (btn) {\r\n                    $group.append(typeof btn === 'function' ? btn(this.context) : btn);\r\n                }\r\n            }\r\n            $group.appendTo($container);\r\n        }\r\n    };\r\n    /**\r\n     * @param {jQuery} [$container]\r\n     */\r\n    Buttons.prototype.updateCurrentStyle = function ($container) {\r\n        var _this = this;\r\n        var $cont = $container || this.$toolbar;\r\n        var styleInfo = this.context.invoke('editor.currentStyle');\r\n        this.updateBtnStates($cont, {\r\n            '.note-btn-bold': function () {\r\n                return styleInfo['font-bold'] === 'bold';\r\n            },\r\n            '.note-btn-italic': function () {\r\n                return styleInfo['font-italic'] === 'italic';\r\n            },\r\n            '.note-btn-underline': function () {\r\n                return styleInfo['font-underline'] === 'underline';\r\n            },\r\n            '.note-btn-subscript': function () {\r\n                return styleInfo['font-subscript'] === 'subscript';\r\n            },\r\n            '.note-btn-superscript': function () {\r\n                return styleInfo['font-superscript'] === 'superscript';\r\n            },\r\n            '.note-btn-strikethrough': function () {\r\n                return styleInfo['font-strikethrough'] === 'strikethrough';\r\n            }\r\n        });\r\n        if (styleInfo['font-family']) {\r\n            var fontNames = styleInfo['font-family'].split(',').map(function (name) {\r\n                return name.replace(/[\\'\\\"]/g, '')\r\n                    .replace(/\\s+$/, '')\r\n                    .replace(/^\\s+/, '');\r\n            });\r\n            var fontName_1 = lists.find(fontNames, this.isFontInstalled.bind(this));\r\n            $cont.find('.dropdown-fontname a').each(function (idx, item) {\r\n                var $item = $(item);\r\n                // always compare string to avoid creating another func.\r\n                var isChecked = ($item.data('value') + '') === (fontName_1 + '');\r\n                $item.toggleClass('checked', isChecked);\r\n            });\r\n            $cont.find('.note-current-fontname').text(fontName_1).css('font-family', fontName_1);\r\n        }\r\n        if (styleInfo['font-size']) {\r\n            var fontSize_1 = styleInfo['font-size'];\r\n            $cont.find('.dropdown-fontsize a').each(function (idx, item) {\r\n                var $item = $(item);\r\n                // always compare with string to avoid creating another func.\r\n                var isChecked = ($item.data('value') + '') === (fontSize_1 + '');\r\n                $item.toggleClass('checked', isChecked);\r\n            });\r\n            $cont.find('.note-current-fontsize').text(fontSize_1);\r\n        }\r\n        if (styleInfo['line-height']) {\r\n            var lineHeight_1 = styleInfo['line-height'];\r\n            $cont.find('.dropdown-line-height li a').each(function (idx, item) {\r\n                // always compare with string to avoid creating another func.\r\n                var isChecked = ($(item).data('value') + '') === (lineHeight_1 + '');\r\n                _this.className = isChecked ? 'checked' : '';\r\n            });\r\n        }\r\n    };\r\n    Buttons.prototype.updateBtnStates = function ($container, infos) {\r\n        var _this = this;\r\n        $.each(infos, function (selector, pred) {\r\n            _this.ui.toggleBtnActive($container.find(selector), pred());\r\n        });\r\n    };\r\n    Buttons.prototype.tableMoveHandler = function (event) {\r\n        var PX_PER_EM = 18;\r\n        var $picker = $(event.target.parentNode); // target is mousecatcher\r\n        var $dimensionDisplay = $picker.next();\r\n        var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\r\n        var $highlighted = $picker.find('.note-dimension-picker-highlighted');\r\n        var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\r\n        var posOffset;\r\n        // HTML5 with jQuery - e.offsetX is undefined in Firefox\r\n        if (event.offsetX === undefined) {\r\n            var posCatcher = $(event.target).offset();\r\n            posOffset = {\r\n                x: event.pageX - posCatcher.left,\r\n                y: event.pageY - posCatcher.top\r\n            };\r\n        }\r\n        else {\r\n            posOffset = {\r\n                x: event.offsetX,\r\n                y: event.offsetY\r\n            };\r\n        }\r\n        var dim = {\r\n            c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\r\n            r: Math.ceil(posOffset.y / PX_PER_EM) || 1\r\n        };\r\n        $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\r\n        $catcher.data('value', dim.c + 'x' + dim.r);\r\n        if (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col) {\r\n            $unhighlighted.css({ width: dim.c + 1 + 'em' });\r\n        }\r\n        if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row) {\r\n            $unhighlighted.css({ height: dim.r + 1 + 'em' });\r\n        }\r\n        $dimensionDisplay.html(dim.c + ' x ' + dim.r);\r\n    };\r\n    return Buttons;\r\n}());\r\nexport default Buttons;\r\n//# sourceMappingURL=Buttons.js.map","map":{"version":3,"file":"Buttons.js","sourceRoot":"","sources":["../../src/js/base/module/Buttons.js"],"names":[],"mappings":"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AACvB,OAAO,IAAI,MAAM,cAAc,CAAC;AAChC,OAAO,KAAK,MAAM,eAAe,CAAC;AAClC,OAAO,GAAG,MAAM,aAAa,CAAC;AAE9B;IACE,iBAAY,OAAO;QACjB,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CACrC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAC9C,CAAC;IACJ,CAAC;IAED,mCAAiB,GAAjB,UAAkB,YAAY;QAC5B,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACzC,MAAM,CAAC,EAAE,CAAC;QACZ,CAAC;QAED,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;YACd,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAChE,CAAC;QAED,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;aAC3C,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;aACrB,OAAO,CAAC,aAAa,EAAE,GAAG,CAAC;aAC3B,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;QAEhC,MAAM,CAAC,IAAI,GAAG,QAAQ,GAAG,GAAG,CAAC;IAC/B,CAAC;IAED,wBAAM,GAAN,UAAO,CAAC;QACN,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACvC,OAAO,CAAC,CAAC,OAAO,CAAC;QACnB,CAAC;QACD,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QACrC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC;IAED,4BAAU,GAAV;QACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC7B,CAAC;IAED,yBAAO,GAAP;QACE,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED,iCAAe,GAAf,UAAgB,IAAI;QAClB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC;gBACrD,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAC5D,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,qCAAmB,GAAnB,UAAoB,IAAI;QACtB,IAAM,eAAe,GAAG,CAAC,YAAY,EAAE,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QACnF,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAE1B,MAAM,CAAC,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACpG,CAAC;IAED,mCAAiB,GAAjB;QAAA,iBAmcC;QAlcC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;YAChC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CACtC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,KAAI,CAAC,OAAO,CACrD;oBACD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;oBAC9B,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;oBACf,SAAS,EAAE,gBAAgB;oBAC3B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS;oBAC7B,QAAQ,EAAE,UAAC,IAAI;wBACb,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;4BAC7B,IAAI,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;wBACrG,CAAC;wBAED,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;wBACrB,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;wBACzB,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;wBAC/D,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;wBAE1E,MAAM,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG,GAAG,KAAK,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;oBACxE,CAAC;oBACD,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;iBAC9D,CAAC;aACH,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;gCAEM,QAAQ,EAAM,QAAQ;YAC7B,IAAM,IAAI,GAAG,OAAK,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAE9C,OAAK,OAAO,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,EAAE;gBACxC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;oBACjB,SAAS,EAAE,iBAAiB,GAAG,IAAI;oBACnC,QAAQ,EAAE,mBAAmB,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,QAAQ;oBAC3E,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE;oBAC3B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;iBAC9D,CAAC,CAAC,MAAM,EAAE,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;;QAXD,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,GAAG,QAAQ,EAAE,QAAQ,EAAE;oBAAvF,QAAQ,EAAM,QAAQ;SAW9B;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC/B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,eAAe;gBAC1B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAC7D,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,aAAa,CAAC;aACrE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE;YACjC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,iBAAiB;gBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC;gBACjE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,eAAe,CAAC;aACvE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,oBAAoB;gBAC/B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC;gBACvE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,kBAAkB,CAAC;aAC1E,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;YAChC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;gBACtE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,qBAAqB,CAAC;aAC/D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE;YACxC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,wBAAwB;gBACnC,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC;gBACxD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,KAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC;gBAC/E,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,sBAAsB,CAAC;aAC9E,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,sBAAsB;gBACjC,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC;gBACtD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW;gBACnC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,oBAAoB,CAAC;aAC5E,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,oBAAoB;gBAC/B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS;gBACjC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,kBAAkB,CAAC;aAC1E,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,IAAM,SAAS,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;YAE7D,4DAA4D;YAC5D,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,UAAC,GAAG,EAAE,QAAQ;gBACxD,QAAQ,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;gBACjD,EAAE,CAAC,CAAC,KAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACvC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvD,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACxC,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CACtC,uCAAuC,EAAE,KAAI,CAAC,OAAO,CACtD;oBACD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;oBAC5B,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC;oBACpB,SAAS,EAAE,mBAAmB;oBAC9B,cAAc,EAAE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS;oBAC5C,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;oBACrE,QAAQ,EAAE,UAAC,IAAI;wBACb,MAAM,CAAC,8BAA8B,GAAG,IAAI,GAAG,MAAM,GAAG,IAAI,GAAG,SAAS,CAAC;oBAC3E,CAAC;oBACD,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,iBAAiB,CAAC;iBACzE,CAAC;aACH,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CAAC,uCAAuC,EAAE,KAAI,CAAC,OAAO,CAAC;oBAC/F,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;oBAC5B,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC;oBACpB,SAAS,EAAE,mBAAmB;oBAC9B,cAAc,EAAE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS;oBAC5C,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS;oBAC7B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,iBAAiB,CAAC;iBACzE,CAAC;aACH,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;YAChC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,SAAS,EAAE,YAAY;gBACvB,QAAQ,EAAE;oBACR,KAAI,CAAC,MAAM,CAAC;wBACV,SAAS,EAAE,2BAA2B;wBACtC,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,oBAAoB,CAAC;wBACtE,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;wBAC/B,KAAK,EAAE,UAAC,CAAC;4BACP,IAAM,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;4BACnC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE;gCAClC,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;gCACzC,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;6BAC1C,CAAC,CAAC;wBACL,CAAC;wBACD,QAAQ,EAAE,UAAC,OAAO;4BAChB,IAAM,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;4BACxD,YAAY,CAAC,GAAG,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;4BAChD,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;wBAC5C,CAAC;qBACF,CAAC;oBACF,KAAI,CAAC,MAAM,CAAC;wBACV,SAAS,EAAE,iBAAiB;wBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CAAC,EAAE,EAAE,KAAI,CAAC,OAAO,CAAC;wBAC1D,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI;wBAC7B,IAAI,EAAE;4BACJ,MAAM,EAAE,UAAU;yBACnB;qBACF,CAAC;oBACF,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;wBACf,KAAK,EAAE;4BACL,4BAA4B;4BAC5B,oCAAoC,GAAG,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ;4BAC5E,SAAS;4BACT,+GAA+G;4BAC/G,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;4BAC3B,eAAe;4BACf,UAAU;4BACV,qDAAqD;4BACrD,QAAQ;4BACR,4BAA4B;4BAC5B,oCAAoC,GAAG,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ;4BAC5E,SAAS;4BACT,oHAAoH;4BACpH,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc;4BAC9B,eAAe;4BACf,UAAU;4BACV,qDAAqD;4BACrD,QAAQ;yBACT,CAAC,IAAI,CAAC,EAAE,CAAC;wBACV,QAAQ,EAAE,UAAC,SAAS;4BAClB,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;gCAC5C,IAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gCACxB,OAAO,CAAC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC;oCAC7B,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,MAAM;oCAC3B,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;oCAChC,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS;oCACjC,OAAO,EAAE,KAAI,CAAC,OAAO,CAAC,OAAO;iCAC9B,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;4BACf,CAAC,CAAC,CAAC;wBACL,CAAC;wBACD,KAAK,EAAE,UAAC,KAAK;4BACX,IAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;4BAChC,IAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BACxC,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAEpC,EAAE,CAAC,CAAC,SAAS,IAAI,KAAK,CAAC,CAAC,CAAC;gCACvB,IAAM,GAAG,GAAG,SAAS,KAAK,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC;gCACrE,IAAM,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;gCACzE,IAAM,cAAc,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;gCAEzF,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gCACvB,cAAc,CAAC,IAAI,CAAC,OAAO,GAAG,SAAS,EAAE,KAAK,CAAC,CAAC;gCAChD,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS,EAAE,KAAK,CAAC,CAAC;4BACpD,CAAC;wBACH,CAAC;qBACF,CAAC;iBACH;aACF,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC;gBACxD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,KAAI,CAAC,iBAAiB,CAAC,qBAAqB,CAAC;gBAClF,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,4BAA4B,CAAC;aACtE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC;gBACtD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;gBAC9E,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,0BAA0B,CAAC;aACpE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;YACpD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;YACzE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;SAC9D,CAAC,CAAC;QAEH,IAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;YAChC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC;YACtD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC;YAC7E,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,sBAAsB,CAAC;SAChE,CAAC,CAAC;QAEH,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC;YAC/B,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;YACrD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;YAC3E,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,qBAAqB,CAAC;SAC/D,CAAC,CAAC;QAEH,IAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC;YACvD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;YAC5E,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;SAC9D,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC;YAClD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;YACxE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,gBAAgB,CAAC;SAC1D,CAAC,CAAC;QAEH,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;YACjD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC;YACtE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,CAAC;SACzD,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC;QAChF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;QAElE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CAAC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC;oBAClG,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS;oBACtC,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;oBACf,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;wBAClB,SAAS,EAAE,YAAY;wBACvB,QAAQ,EAAE,CAAC,WAAW,EAAE,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC;qBAClE,CAAC;oBACF,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;wBAClB,SAAS,EAAE,WAAW;wBACtB,QAAQ,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC;qBAC5B,CAAC;iBACH,CAAC;aACH,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE;YACjC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CAAC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC;oBACnG,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;oBAC9B,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC;oBACpB,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,WAAW;oBAC/B,cAAc,EAAE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS;oBAC5C,SAAS,EAAE,sBAAsB;oBACjC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,mBAAmB,CAAC;iBAC7D,CAAC;aACH,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;YAChC,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC;oBACV,SAAS,EAAE,iBAAiB;oBAC5B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,sBAAsB,CAAC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC;oBAC9F,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;oBAC9B,IAAI,EAAE;wBACJ,MAAM,EAAE,UAAU;qBACnB;iBACF,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;oBACf,SAAS,EAAE,YAAY;oBACvB,KAAK,EAAE;wBACL,qCAAqC;wBACrC,+FAA+F;wBAC/F,oDAAoD;wBACpD,sDAAsD;wBACtD,QAAQ;wBACR,iDAAiD;qBAClD,CAAC,IAAI,CAAC,EAAE,CAAC;iBACX,CAAC;aACH,EAAE;gBACD,QAAQ,EAAE,UAAC,KAAK;oBACd,IAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;oBACnE,QAAQ,CAAC,GAAG,CAAC;wBACX,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,GAAG,IAAI;wBACjD,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,GAAG,IAAI;qBACnD,CAAC,CAAC,SAAS,CAAC,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,CAAC;yBACjE,EAAE,CAAC,WAAW,EAAE,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;gBACvD,CAAC;aACF,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC/B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC;gBACxE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;aAC3D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE;YAClC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC;gBAClD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;gBAC9B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;aAC5D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;YAChC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBAChD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;gBAC9B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;aAC5D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBAChD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,KAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC;gBAC7E,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,6BAA6B,CAAC;aACvE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,gBAAgB;gBAC3B,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,OAAO,CAAC,UAAU;gBAChC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,mBAAmB,CAAC;aAC7D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,cAAc;gBACzB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,OAAO,CAAC,QAAQ;gBAC9B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;aAC3D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC/B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAChE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,aAAa,CAAC;aACvD,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC/B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAChE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,aAAa,CAAC;aACvD,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC/B,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACnD,OAAO,EAAE,KAAI,CAAC,OAAO,CAAC,IAAI;gBAC1B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;aAC3D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACH,wCAAsB,GAAtB;QAAA,iBAyDC;QAxDC,qBAAqB;QACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE;YACvC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,4CAA4C;gBACtD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;gBACnC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,GAAG,CAAC;aAC9D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,2CAA2C;gBACrD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;gBACnC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,KAAK,CAAC;aAChE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,2CAA2C;gBACrD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;gBACtC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,MAAM,CAAC;aACjE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,gBAAgB;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS;gBAClC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,MAAM,CAAC;aAClE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;gBACrD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;gBACnC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,OAAO,CAAC;aACnE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC;gBACvD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS;gBAClC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,MAAM,CAAC;aAClE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,iBAAiB;QACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBAChD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;gBAC/B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;aAC9D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAqB,GAArB;QAAA,iBAgBC;QAfC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE;YACzC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;gBAC5B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;aAC3D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE;YACjC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;gBAC9B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,CAAC;aACzD,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;OAKG;IACH,wCAAsB,GAAtB;QAAA,iBAyDC;QAxDC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACnD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;gBACpC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,KAAK,CAAC;aAChE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACnD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;gBACpC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,QAAQ,CAAC;aACnE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;gBACnC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,MAAM,CAAC;aACjE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACnD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;gBACpC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,OAAO,CAAC;aAClE,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;gBAC/B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;aAC5D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACpC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;gBACpD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;gBAC/B,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;aAC5D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACtC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC;gBACjB,SAAS,EAAE,QAAQ;gBACnB,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBAChD,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;gBACjC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;aAC9D,CAAC,CAAC,MAAM,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uBAAK,GAAL,UAAM,UAAU,EAAE,MAAM;QACtB,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,CAAC,MAAM,EAAE,QAAQ,GAAG,QAAQ,EAAE,QAAQ,EAAE,EAAE,CAAC;YACjF,IAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC/B,IAAM,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACtD,IAAM,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAE5F,IAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC;gBACjC,SAAS,EAAE,OAAO,GAAG,SAAS;aAC/B,CAAC,CAAC,MAAM,EAAE,CAAC;YAEZ,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;gBACzD,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxD,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACR,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACrE,CAAC;YACH,CAAC;YACD,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC9B,CAAC;IACH,CAAC;IAED;;OAEG;IACH,oCAAkB,GAAlB,UAAmB,UAAU;QAA7B,iBA6DC;QA5DC,IAAM,KAAK,GAAG,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC;QAE1C,IAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAC7D,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC1B,gBAAgB,EAAE;gBAChB,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,MAAM,CAAC;YAC3C,CAAC;YACD,kBAAkB,EAAE;gBAClB,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,QAAQ,CAAC;YAC/C,CAAC;YACD,qBAAqB,EAAE;gBACrB,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,WAAW,CAAC;YACrD,CAAC;YACD,qBAAqB,EAAE;gBACrB,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,WAAW,CAAC;YACrD,CAAC;YACD,uBAAuB,EAAE;gBACvB,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,aAAa,CAAC;YACzD,CAAC;YACD,yBAAyB,EAAE;gBACzB,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,KAAK,eAAe,CAAC;YAC7D,CAAC;SACF,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAM,SAAS,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAC,IAAI;gBAC7D,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;qBAC/B,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;qBACnB,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;YACH,IAAM,UAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAExE,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;gBAChD,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACtB,wDAAwD;gBACxD,IAAM,SAAS,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,UAAQ,GAAG,EAAE,CAAC,CAAC;gBACjE,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,IAAI,CAAC,UAAQ,CAAC,CAAC,GAAG,CAAC,aAAa,EAAE,UAAQ,CAAC,CAAC;QACnF,CAAC;QAED,EAAE,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAM,UAAQ,GAAG,SAAS,CAAC,WAAW,CAAC,CAAC;YACxC,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;gBAChD,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACtB,6DAA6D;gBAC7D,IAAM,SAAS,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,UAAQ,GAAG,EAAE,CAAC,CAAC;gBACjE,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,IAAI,CAAC,UAAQ,CAAC,CAAC;QACtD,CAAC;QAED,EAAE,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAM,YAAU,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC;YAC5C,KAAK,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;gBACtD,6DAA6D;gBAC7D,IAAM,SAAS,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,YAAU,GAAG,EAAE,CAAC,CAAC;gBACrE,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9C,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,iCAAe,GAAf,UAAgB,UAAU,EAAE,KAAK;QAAjC,iBAIC;QAHC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAC,QAAQ,EAAE,IAAI;YAC3B,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAgB,GAAhB,UAAiB,KAAK;QACpB,IAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,yBAAyB;QACrE,IAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;QACzC,IAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;QACrE,IAAM,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;QACxE,IAAM,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;QAE5E,IAAI,SAAS,CAAC;QACd,wDAAwD;QACxD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;YAChC,IAAM,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;YAC5C,SAAS,GAAG;gBACV,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI;gBAChC,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,GAAG;aAChC,CAAC;QACJ,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,SAAS,GAAG;gBACV,CAAC,EAAE,KAAK,CAAC,OAAO;gBAChB,CAAC,EAAE,KAAK,CAAC,OAAO;aACjB,CAAC;QACJ,CAAC;QAED,IAAM,GAAG,GAAG;YACV,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;YAC1C,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;SAC3C,CAAC;QAEF,YAAY,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAChE,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAE5C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,cAAc,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAClD,CAAC;QAED,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,cAAc,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QACnD,CAAC;QAED,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAChD,CAAC;IACH,cAAC;AAAD,CAAC,AAjyBD,IAiyBC"}}
