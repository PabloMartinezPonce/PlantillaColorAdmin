{"code":"import $ from 'jquery';\r\nvar Toolbar = /** @class */ (function () {\r\n    function Toolbar(context) {\r\n        this.context = context;\r\n        this.$window = $(window);\r\n        this.$document = $(document);\r\n        this.ui = $.summernote.ui;\r\n        this.$note = context.layoutInfo.note;\r\n        this.$editor = context.layoutInfo.editor;\r\n        this.$toolbar = context.layoutInfo.toolbar;\r\n        this.options = context.options;\r\n        this.followScroll = this.followScroll.bind(this);\r\n    }\r\n    Toolbar.prototype.shouldInitialize = function () {\r\n        return !this.options.airMode;\r\n    };\r\n    Toolbar.prototype.initialize = function () {\r\n        var _this = this;\r\n        this.options.toolbar = this.options.toolbar || [];\r\n        if (!this.options.toolbar.length) {\r\n            this.$toolbar.hide();\r\n        }\r\n        else {\r\n            this.context.invoke('buttons.build', this.$toolbar, this.options.toolbar);\r\n        }\r\n        if (this.options.toolbarContainer) {\r\n            this.$toolbar.appendTo(this.options.toolbarContainer);\r\n        }\r\n        this.changeContainer(false);\r\n        this.$note.on('summernote.keyup summernote.mouseup summernote.change', function () {\r\n            _this.context.invoke('buttons.updateCurrentStyle');\r\n        });\r\n        this.context.invoke('buttons.updateCurrentStyle');\r\n        if (this.options.followingToolbar) {\r\n            this.$window.on('scroll resize', this.followScroll);\r\n        }\r\n    };\r\n    Toolbar.prototype.destroy = function () {\r\n        this.$toolbar.children().remove();\r\n        if (this.options.followingToolbar) {\r\n            this.$window.off('scroll resize', this.followScroll);\r\n        }\r\n    };\r\n    Toolbar.prototype.followScroll = function () {\r\n        if (this.$editor.hasClass('fullscreen')) {\r\n            return false;\r\n        }\r\n        var $toolbarWrapper = this.$toolbar.parent('.note-toolbar-wrapper');\r\n        var editorHeight = this.$editor.outerHeight();\r\n        var editorWidth = this.$editor.width();\r\n        var toolbarHeight = this.$toolbar.height();\r\n        $toolbarWrapper.css({\r\n            height: toolbarHeight\r\n        });\r\n        // check if the web app is currently using another static bar\r\n        var otherBarHeight = 0;\r\n        if (this.options.otherStaticBar) {\r\n            otherBarHeight = $(this.options.otherStaticBar).outerHeight();\r\n        }\r\n        var currentOffset = this.$document.scrollTop();\r\n        var editorOffsetTop = this.$editor.offset().top;\r\n        var editorOffsetBottom = editorOffsetTop + editorHeight;\r\n        var activateOffset = editorOffsetTop - otherBarHeight;\r\n        var deactivateOffsetBottom = editorOffsetBottom - otherBarHeight - toolbarHeight;\r\n        if ((currentOffset > activateOffset) && (currentOffset < deactivateOffsetBottom)) {\r\n            this.$toolbar.css({\r\n                position: 'fixed',\r\n                top: otherBarHeight,\r\n                width: editorWidth\r\n            });\r\n        }\r\n        else {\r\n            this.$toolbar.css({\r\n                position: 'relative',\r\n                top: 0,\r\n                width: '100%'\r\n            });\r\n        }\r\n    };\r\n    Toolbar.prototype.changeContainer = function (isFullscreen) {\r\n        if (isFullscreen) {\r\n            this.$toolbar.prependTo(this.$editor);\r\n        }\r\n        else {\r\n            if (this.options.toolbarContainer) {\r\n                this.$toolbar.appendTo(this.options.toolbarContainer);\r\n            }\r\n        }\r\n    };\r\n    Toolbar.prototype.updateFullscreen = function (isFullscreen) {\r\n        this.ui.toggleBtnActive(this.$toolbar.find('.btn-fullscreen'), isFullscreen);\r\n        this.changeContainer(isFullscreen);\r\n    };\r\n    Toolbar.prototype.updateCodeview = function (isCodeview) {\r\n        this.ui.toggleBtnActive(this.$toolbar.find('.btn-codeview'), isCodeview);\r\n        if (isCodeview) {\r\n            this.deactivate();\r\n        }\r\n        else {\r\n            this.activate();\r\n        }\r\n    };\r\n    Toolbar.prototype.activate = function (isIncludeCodeview) {\r\n        var $btn = this.$toolbar.find('button');\r\n        if (!isIncludeCodeview) {\r\n            $btn = $btn.not('.btn-codeview');\r\n        }\r\n        this.ui.toggleBtn($btn, true);\r\n    };\r\n    Toolbar.prototype.deactivate = function (isIncludeCodeview) {\r\n        var $btn = this.$toolbar.find('button');\r\n        if (!isIncludeCodeview) {\r\n            $btn = $btn.not('.btn-codeview');\r\n        }\r\n        this.ui.toggleBtn($btn, false);\r\n    };\r\n    return Toolbar;\r\n}());\r\nexport default Toolbar;\r\n//# sourceMappingURL=Toolbar.js.map","map":{"version":3,"file":"Toolbar.js","sourceRoot":"","sources":["../../src/js/base/module/Toolbar.js"],"names":[],"mappings":"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"}}
