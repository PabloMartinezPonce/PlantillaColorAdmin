{"code":"import $ from 'jquery';\r\nvar Fullscreen = /** @class */ (function () {\r\n    function Fullscreen(context) {\r\n        var _this = this;\r\n        this.context = context;\r\n        this.$editor = context.layoutInfo.editor;\r\n        this.$toolbar = context.layoutInfo.toolbar;\r\n        this.$editable = context.layoutInfo.editable;\r\n        this.$codable = context.layoutInfo.codable;\r\n        this.$window = $(window);\r\n        this.$scrollbar = $('html, body');\r\n        this.onResize = function () {\r\n            _this.resizeTo({\r\n                h: _this.$window.height() - _this.$toolbar.outerHeight()\r\n            });\r\n        };\r\n    }\r\n    Fullscreen.prototype.resizeTo = function (size) {\r\n        this.$editable.css('height', size.h);\r\n        this.$codable.css('height', size.h);\r\n        if (this.$codable.data('cmeditor')) {\r\n            this.$codable.data('cmeditor').setsize(null, size.h);\r\n        }\r\n    };\r\n    /**\r\n     * toggle fullscreen\r\n     */\r\n    Fullscreen.prototype.toggle = function () {\r\n        this.$editor.toggleClass('fullscreen');\r\n        if (this.isFullscreen()) {\r\n            this.$editable.data('orgHeight', this.$editable.css('height'));\r\n            this.$window.on('resize', this.onResize).trigger('resize');\r\n            this.$scrollbar.css('overflow', 'hidden');\r\n        }\r\n        else {\r\n            this.$window.off('resize', this.onResize);\r\n            this.resizeTo({ h: this.$editable.data('orgHeight') });\r\n            this.$scrollbar.css('overflow', 'visible');\r\n        }\r\n        this.context.invoke('toolbar.updateFullscreen', this.isFullscreen());\r\n    };\r\n    Fullscreen.prototype.isFullscreen = function () {\r\n        return this.$editor.hasClass('fullscreen');\r\n    };\r\n    return Fullscreen;\r\n}());\r\nexport default Fullscreen;\r\n//# sourceMappingURL=Fullscreen.js.map","map":{"version":3,"file":"Fullscreen.js","sourceRoot":"","sources":["../../src/js/base/module/Fullscreen.js"],"names":[],"mappings":"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAEvB;IACE,oBAAY,OAAO;QAAnB,iBAgBC;QAfC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;QAE3C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC;QAElC,IAAI,CAAC,QAAQ,GAAG;YACd,KAAI,CAAC,QAAQ,CAAC;gBACZ,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,KAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;aACvD,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,6BAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACpC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAED;;OAEG;IACH,2BAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACvC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC3D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QAC7C,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,0BAA0B,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IACvE,CAAC;IAED,iCAAY,GAAZ;QACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC7C,CAAC;IACH,iBAAC;AAAD,CAAC,AAhDD,IAgDC"}}
