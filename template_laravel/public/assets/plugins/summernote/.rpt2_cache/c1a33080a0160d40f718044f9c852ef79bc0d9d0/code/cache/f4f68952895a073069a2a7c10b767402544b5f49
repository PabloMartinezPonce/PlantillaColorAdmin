{"code":"import $ from 'jquery';\r\n/**\r\n * @method readFileAsDataURL\r\n *\r\n * read contents of file as representing URL\r\n *\r\n * @param {File} file\r\n * @return {Promise} - then: dataUrl\r\n */\r\nexport function readFileAsDataURL(file) {\r\n    return $.Deferred(function (deferred) {\r\n        $.extend(new FileReader(), {\r\n            onload: function (e) {\r\n                var dataURL = e.target.result;\r\n                deferred.resolve(dataURL);\r\n            },\r\n            onerror: function (err) {\r\n                deferred.reject(err);\r\n            }\r\n        }).readAsDataURL(file);\r\n    }).promise();\r\n}\r\n/**\r\n * @method createImage\r\n *\r\n * create `<image>` from url string\r\n *\r\n * @param {String} url\r\n * @return {Promise} - then: $image\r\n */\r\nexport function createImage(url) {\r\n    return $.Deferred(function (deferred) {\r\n        var $img = $('<img>');\r\n        $img.one('load', function () {\r\n            $img.off('error abort');\r\n            deferred.resolve($img);\r\n        }).one('error abort', function () {\r\n            $img.off('load').detach();\r\n            deferred.reject($img);\r\n        }).css({\r\n            display: 'none'\r\n        }).appendTo(document.body).attr('src', url);\r\n    }).promise();\r\n}\r\n//# sourceMappingURL=async.js.map","map":{"version":3,"file":"async.js","sourceRoot":"","sources":["../../src/js/base/core/async.js"],"names":[],"mappings":"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAEvB;;;;;;;GAOG;AACH,MAAM,4BAA4B,IAAI;IACpC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAC,QAAQ;QACzB,CAAC,CAAC,MAAM,CAAC,IAAI,UAAU,EAAE,EAAE;YACzB,MAAM,EAAE,UAAC,CAAC;gBACR,IAAM,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;gBAChC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC5B,CAAC;YACD,OAAO,EAAE,UAAC,GAAG;gBACX,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC;SACF,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;AACf,CAAC;AAED;;;;;;;GAOG;AACH,MAAM,sBAAsB,GAAG;IAC7B,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAC,QAAQ;QACzB,IAAM,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;QAExB,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACxB,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,GAAG,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;YAC1B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,GAAG,CAAC;YACL,OAAO,EAAE,MAAM;SAChB,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;AACf,CAAC"}}
